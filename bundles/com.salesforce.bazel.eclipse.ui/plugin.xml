<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

    <extension
          point="com.salesforce.bazel.eclipse.core.executor">
       <commandExecutor
             class="com.salesforce.bazel.eclipse.ui.execution.EclipseConsoleBazelCommandExecutor"
             priority="1000">
       </commandExecutor>
    </extension>

    <extension
         point="org.eclipse.ui.preferencePages">
       <page
            class="com.salesforce.bazel.eclipse.ui.preferences.BazelPreferencePage"
            id="com.salesforce.bazel.eclipse.preferences"
            name="Bazel">
       </page>
    </extension>

    <extension point="org.eclipse.ui.importWizards">
       <category id="com.salesforce.bazel.eclipse.ui.import.category.bazel" name="Bazel"/>

        <wizard
             id="com.salesforce.bazel.eclipse.wizard.BazelImportWizard"
             class="com.salesforce.bazel.eclipse.ui.wizards.BazelImportWizard"
             icon="resources/import_bazel_workspace.gif"
             category="com.salesforce.bazel.eclipse.ui.import.category.bazel"
             name="Import Bazel Workspace">
        <description>Import an existing Bazel Workspace</description>
     </wizard>
    </extension>

    <extension
          point="org.eclipse.ui.commands">
       <category
             description="Bazel Eclipse Feature Commands"
             id="com.salesforce.bazel.eclipse.ui.commands.category"
             name="Bazel">
       </category>
       <command
             categoryId="com.salesforce.bazel.eclipse.ui.commands.category"
             defaultHandler="com.salesforce.bazel.eclipse.ui.commands.UpdateClasspathsHandler"
             description="Refresh Eclipse build path information from Bazel BUILD files."
             id="com.salesforce.bazel.eclipse.ui.commands.updateClasspaths"
             name="Update Classpaths">
       </command>
       <command
             categoryId="com.salesforce.bazel.eclipse.ui.commands.category"
             defaultHandler="com.salesforce.bazel.eclipse.ui.commands.SynchronizeProjectsHandler"
             description="Refresh Eclipse workspace project configuration from Bazel BUILD files according to the configured project view."
             id="com.salesforce.bazel.eclipse.ui.commands.syncProjects"
             name="Sync Projects">
       </command>
    </extension>

    <extension
          point="org.eclipse.tm4e.registry.grammars">
       <grammar
             path="syntaxes/starlark.tmLanguage.json"
             scopeName="source.starlark">
       </grammar>
       <grammar
             path="syntaxes/bazel.tmLanguage.json"
             scopeName="source.bazel">
       </grammar>
       <grammar
             path="syntaxes/bazelrc.tmLanguage.json"
             scopeName="source.bazelrc">
       </grammar>
       <scopeNameContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.starlark"
             scopeName="source.starlark">
       </scopeNameContentTypeBinding>
       <scopeNameContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.bazelrc"
             scopeName="source.bazelrc">
       </scopeNameContentTypeBinding>
       <scopeNameContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.bazel"
             scopeName="source.bazel">
       </scopeNameContentTypeBinding>
    </extension>

    <extension
          point="org.eclipse.tm4e.languageconfiguration.languageConfigurations">
       <languageConfiguration
             contentTypeId="com.salesforce.bazel.eclipse.content.starlark"
             path="syntaxes/starlark.configuration.json">
       </languageConfiguration>
       <languageConfiguration
             contentTypeId="com.salesforce.bazel.eclipse.content.bazel"
             path="syntaxes/bazel.configuration.json">
       </languageConfiguration>
       <languageConfiguration
             contentTypeId="com.salesforce.bazel.eclipse.content.bazelrc"
             path="syntaxes/bazelrc.configuration.json">
       </languageConfiguration>
    </extension>

    <extension
          point="org.eclipse.ui.editors">
       <editorContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.starlark"
             editorId="org.eclipse.ui.genericeditor.GenericEditor">
       </editorContentTypeBinding>
       <editorContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.bazel"
             editorId="org.eclipse.ui.genericeditor.GenericEditor">
       </editorContentTypeBinding>
       <editorContentTypeBinding
             contentTypeId="com.salesforce.bazel.eclipse.content.bazelrc"
             editorId="org.eclipse.ui.genericeditor.GenericEditor">
       </editorContentTypeBinding>
    </extension>
</plugin>
